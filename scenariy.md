прежде чем это делать, надо значит окончательно в идеал проработать базу данных, мне кажеться сейчас есть путаница и что то не то. базовые вводные: изначально планировалось что у бота будут разные роли с разными меню, но я ушел от этого. данный телеграм бот нужен для того что бы пользователь/подрядчик мог в одном месте создавать частный канал и отправлять в него пнг файл с ватермаркой (как правило это смета или чертеж) и выдавать своему клиенту уникальную ссылку. это нужно для того что бы на рынке услуг клиенты не могли скопировать или переслать сметы конкурентам подрядчика. Для управления ботом будет сделан отдельный админ бот, через который будет происходить все управление. Я взялся за разработку такого бота потому что я сам сталкиваюсь с тем что клиенты пересылают мои сметы и для того что бы на нем заработать. будет система подписок с разными планами. планируется что у бота будет много пользователей 1000-5000 или больше. для пользователя один канал это условно один клиент. так же я хочу чтобы у пользователя бота были статистические данные. я думаю что для базы учитывая это нужны разные схемы. пока ничего не меняй, предлажи мне план структуры базы данных

исходники файлов я не храню, клиент пользователя будет инициироваться при переходе по ссылке согластно настройкам ссылки

в разделе мои каналы будут выводиться каналы созданные через бота (юзер бот при создании канала автоматом назначает бота админом). Я так же хочу добавить такую функцию, отдельная кнопка синхронизировать, это если канал был создан вне бота, но он потом вручную добавлен туда админом, а при нажатии на синхронизировать в списке появляются эти каналы где бот админ. Нажимая на канал из списка в этот момент обновляется статистика по выбранному каналу, кто в канале айди и имя, какие там файлы( их названия) сколько просмотров у файлов, их можно удалить или загрузить новые, заблокировать клиента который авторизовался по ссылке. на один канал можно выдавать уникальные ссылки не только на одного человека а на столько на сколько нужно, менять время жизни ссылки. Так же что бы при инициализации клиента в канале в бот приходило уведомление о том что в канал перешел такой то пользователь его имя и айди по такой то ссылке.

будут подписки - FREE: лимит 5 каналов (лимит не ежемесячный/не обновляемый, а разовый на одного пользователя/подрядчика, инициализация пользователя происходит при первом запуске бота, он через кнопку вебапп при помощи куар кода авторизуется, при этом создается его персональный юзербот и сессия, только с созданной сессией появляется меню бота, при случайном удалении "устройства" в телеграмме просто снова переподключается через куар код, он уже инициирован при первом входе и ему снова открывается его интерфейс). На фрии нельзя редактировать канал из бота (менять название, аватарку канала, удалять файлы ( новые загрузить можно), удалять канал), нельзя синхронизировать каналы созданные вне бота (синхронизация внутри канала просмотры, уведомления о входе в канал по ссылке, подписчики и их удаление доступны), нельзя редактировать ссылку ( выдается стандартно бессрочная на одного человека, если нужно еще, создается новая) - PRO: нет лимитов, можно все чего нельзя в фрии стоимость 590р/мес - Business: все что в про + командная работа (до 4 пользователей на 1 аккаунт), интеграция с СРМ, стоимость 1490р/мес статистика в разделе Моя подписка, если на фри сколько осталось каналов, если про или бизнес, дата начала и конца через админ бота управление подписками, пользователями, выдача определенной на нужный срок, отозвать подписку, заблокировать пользователя из админ бота высылать уведомление с утп Протестировать про 7 дней бесплатно (для тех кто создал 5 каналов на фри и не перешел на про и пропал на неделю) уведомления в боте за неделю о том что завершается подписка надо оплатить реферальная программа: у каждого пользователя своя уникальная реферальная ссылка. Нужно отправить 3 пользователям и если каждый из них создал 2 канала, подписка про в подарок на месяц. Отслеживается статистика, в разделе Моя подписка, видно сколько из трех зарегестрировались и сколько кто создал каналов. при выполнение условий подписка про включается автоматом, сразу если был на фри, если на про и еще есть действующая, подарочная подключается после завершения имеющейся. Опцией можно пользоваться многократно, при каждом цикле выполнения условий за пользователем фиксируется столько подарочных подписок сколько выполнил циклов условий.